<div class="leader-regist">
  <form nz-form [formGroup]="form">
    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired nzFor="username">User Name</nz-form-label>
      <nz-form-control nzHasFeedback [nzErrorTip]="name" nzValidatingTip="正在验证用户名是否可用...">
        <nz-input-group nzPrefixIcon="user">
          <input type="text"
            nz-input
            formControlName="username"
            placeholder="" />
        </nz-input-group>

          <ng-template #name>
            <span *ngIf="form.get('username').dirty && form.get('username').hasError('required')">請輸入用戶名</span>
            <span *ngIf="form.get('username').dirty && form.get('username').hasError('maxlength')">用戶名長度爲255</span>
            <span *ngIf="form.get('username').dirty && form.get('username').hasError('nameErr')">此用戶名已被註冊</span>
          </ng-template>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired nzFor="password">PassWord</nz-form-label>
      <nz-form-control nzHasFeedback  [nzErrorTip]="psw">
        <nz-input-group nzPrefixIcon="lock"  [nzSuffix]="suffixTemplate">
        <input [type]= "passwordVisible ? 'text' : 'password'"
          nz-input
          formControlName="password"
          placeholder="" />
        </nz-input-group>
        <ng-template #suffixTemplate>
          <i nz-icon [nzType]="passwordVisible ? 'eye-invisible' : 'eye'" (click)="passwordVisible = !passwordVisible"></i>
        </ng-template>
        <ng-template #psw>
          <span *ngIf="form.get('password').dirty && form.get('password').hasError('required')">請輸入密碼</span>
          <span *ngIf="form.get('password').dirty && form.get('password').hasError('pattern')">必须含有数字、字母、特殊字符, 输入字符长度在6到30位之间</span>
        </ng-template>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired nzFor="password">Confirm PassWord</nz-form-label>
      <nz-form-control nzHasFeedback  [nzErrorTip]="confirmPsw">
        <nz-input-group nzPrefixIcon="lock"  [nzSuffix]="suffix2">
        <input [type]= "confirmPasswordVisible ? 'text' : 'password'"
          nz-input
          formControlName="confirmPsw"
          placeholder="" />
        </nz-input-group>
        <ng-template #suffix2>
          <i nz-icon [nzType]="confirmPasswordVisible ? 'eye-invisible' : 'eye'" (click)="confirmPasswordVisible = !confirmPasswordVisible"></i>
        </ng-template>
        <ng-template #confirmPsw>
          <span *ngIf="form.get('confirmPsw').dirty && form.get('confirmPsw').hasError('required')">請确认密碼</span>
          <span *ngIf="form.get('confirmPsw').dirty && form.get('confirmPsw').hasError('confirmPswErr')">两次输入的密码不一致</span>
        </ng-template>
      </nz-form-control>
    </nz-form-item>
  </form>
</div>
